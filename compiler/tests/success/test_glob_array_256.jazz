u256[4] glob_t = { 0, 1, 2, 3 };

export fn sum (reg u64 x) -> reg u64 {
  reg u64 r;
  reg u64 i;
  stack u256[4] gt1;
  reg u256 aux;

  gt1 = glob_t; 
  aux = glob_t[0];

  i = 32;
  
  while (i < 4 * 32) {
    
    aux ^= gt1{(int)i};
    i += 32;
  }
  r = #x86_VPEXTR_64(aux, 0);
  return r;
}
